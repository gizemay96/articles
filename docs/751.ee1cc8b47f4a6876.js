"use strict";(self.webpackChunkarticles=self.webpackChunkarticles||[]).push([[751],{3751:(N,g,r)=>{r.r(g),r.d(g,{NoAuthModule:()=>T});var u=r(9808),a=r(293),i=r(3075),t=r(5e3),m=r(8966),p=r(7511),c=r(3489),d=r(7531);function f(e,s){if(1&e&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t._uU(2),t.qZA(),t.qZA()),2&e){const o=t.oxw();t.xp6(2),t.hij(" ",o.errorMessage," ")}}function h(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1,"Login"),t.qZA())}function Z(e,s){1&e&&(t.TgZ(0,"div",17),t._UZ(1,"span",18),t.qZA())}let A=(()=>{class e{constructor(o,n,l){this.dialogRef=o,this.fb=n,this.authService=l,this.loading=!1,this.loginForm=new i.cw({}),this.isError=!1,this.errorMessage="",this.loginForm=this.fb.group({userName:new i.NI("",[i.kI.required]),password:new i.NI("",[i.kI.required])})}ngOnInit(){}login(){this.loading=!0;const o=this.authService.login(this.loginForm.getRawValue());if(o.isError)return this.isError=!0,this.errorMessage=o.errorMessage,void(this.loading=!1);setTimeout(()=>{localStorage.setItem("user",JSON.stringify(o.payload)),this.loading=!1,this.dialogRef.close({isSuccess:!0})},500)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.so),t.Y36(i.qu),t.Y36(p.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:26,vars:4,consts:[[1,"dummy-info","text-center"],[1,"text-danger"],[1,"login-modal","p-5"],[1,"container"],[1,"text-center","text-light"],["class","error-messages",4,"ngIf"],[1,"content","row","gx-5","gy-5","align-items-center"],["id","grayInput",1,"form","d-flex","justify-content-center"],["autocomplete","off",1,"w-100",3,"formGroup","submit"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","userName","maxlength","20",1,"w-100"],["matInput","","type","password","formControlName","password","maxlength","20",1,"w-100"],["type","submit",1,"btn","btn-block","btn-primary-c","w-100","mt-4"],[4,"ngIf"],["class","spinner-border text-primary","role","status",4,"ngIf"],[1,"error-messages"],[1,"message","text-center","text-danger","p-4"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._uU(1," Dummy Username: "),t.TgZ(2,"b",1),t._uU(3,"User1"),t.qZA(),t._uU(4," -- Password: "),t.TgZ(5,"b",1),t._uU(6,"123456"),t.qZA(),t.qZA(),t.TgZ(7,"div",2),t.TgZ(8,"div",3),t.TgZ(9,"h1",4),t._uU(10,"Login"),t.qZA(),t.YNc(11,f,3,1,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"div",7),t.TgZ(14,"form",8),t.NdJ("submit",function(){return n.login()}),t.TgZ(15,"mat-form-field",9),t.TgZ(16,"mat-label"),t._uU(17,"User Name"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",9),t.TgZ(20,"mat-label"),t._uU(21,"Password"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"button",12),t.YNc(24,h,2,0,"span",13),t.YNc(25,Z,2,0,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(11),t.Q6J("ngIf",n.isError),t.xp6(3),t.Q6J("formGroup",n.loginForm),t.xp6(10),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading))},directives:[u.O5,i._Y,i.JL,i.sg,c.KE,c.hX,d.Nt,i.Fj,i.JJ,i.u,i.nD],styles:[".message[_ngcontent-%COMP%]{font-size:18px;font-weight:600}"]}),e})();const v=[{path:"",component:(()=>{class e{constructor(o,n){this.dialog=o,this.router=n}ngOnInit(){}openLoginDialog(){this.dialog.open(A).afterClosed().subscribe(n=>{n&&n.isSuccess&&setTimeout(()=>{this.router.navigate(["/create-article"],{replaceUrl:!0})},500)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.uw),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-no-auth"]],decls:7,vars:0,consts:[[1,"no-auth-page"],[1,"page-body"],["src","/assets/image/sad-panda.png","alt","",1,"sadly-img"],["type","submit",1,"btn","btn-block","btn-primary-c","mt-4",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return n.openLoginDialog()}),t._uU(4,"Please Login"),t.qZA(),t.TgZ(5,"h2"),t._uU(6,"You do not have permission to view this page."),t.qZA(),t.qZA(),t.qZA())},styles:[".page-body[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);padding:10px;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{color:#000;font-size:2rem;font-weight:550}.sadly-img[_ngcontent-%COMP%]{height:250px}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,y]]}),e})()}}]);